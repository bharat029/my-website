<mat-sidenav-container>
  <mat-sidenav
    class="mat-primary-background"
    #sidenav
    mode="over"
    [(opened)]="opened"
  >
    <div fxLayout="column" fxLayoutAlign="start stretch" id="sidenav-content">
      <div id="sidenav-header">
        <img [src]="profileImageUrl$ | async" alt="Profile Image" />
        <div>
          <div>Bharathan Mudaliar</div>
          <div class="truncate">{{ landingSubtitle$ | async }}</div>
        </div>
      </div>
      <mat-nav-list>
        <a mat-list-item routerLink="/about" (click)="sidenav.close()">
          <i class="fa fa-user" mat-list-icon></i>
          About
        </a>
        <mat-divider></mat-divider>
        <a mat-list-item routerLink="/projects" (click)="sidenav.close()">
          <i class="fa fa-cogs" mat-list-icon></i>
          Projects
        </a>
        <mat-divider></mat-divider>
        <a mat-list-item routerLink="/courses" (click)="sidenav.close()">
          <i class="fa fa-book" mat-list-icon></i>
          Courses
        </a>
        <mat-divider></mat-divider>
        <a mat-list-item routerLink="/cv" (click)="sidenav.close()">
          <i class="fa fa-info-circle" mat-list-icon></i>
          CV
        </a>
        <mat-divider></mat-divider>
      </mat-nav-list>
      <div style="flex: 1"></div>
      <div
        fxLayout="row"
        fxLayoutAlign="space-evenly center"
        class="contact-info"
      >
        <a aria-label="Email" href="mailto:vbharathan.2013@gmail.com">
          <i class="fa fa-envelope"></i>
        </a>
        <a
          aria-label="LinkedIn"
          href="https://www.linkedin.com/in/bharathanmudaliar/"
          target="_blank"
          rel="noopener noreferrer"
        >
          <i class="fa fa-linkedin"></i>
        </a>
        <a
          aria-label="Github"
          href="https://github.com/bharat029/"
          target="_blank"
          rel="noopener noreferrer"
        >
          <i class="fa fa-github"></i>
        </a>
      </div>
    </div>
  </mat-sidenav>
  <mat-sidenav-content>
    <mat-toolbar [class.desktop]="!(isHandset$ | async)" color="primary">
      <button
        *ngIf="isHandset$ | async"
        mat-icon-button
        (click)="sidenav.toggle()"
        id="menu-btn"
      >
        <mat-icon>menu</mat-icon>
      </button>
      <div id="brand-name">
        <a
          ngStyle.lt-md="font-size: 2rem;"
          id="brand"
          routerLink="/"
          routerLinkActive="active"
        >
          Bharathan Mudaliar
        </a>
      </div>
      <nav *ngIf="!(isHandset$ | async)">
        <a routerLink="/about" routerLinkActive="active">About</a>
        <a routerLink="/projects" routerLinkActive="active">Projects</a>
        <a routerLink="/courses" routerLinkActive="active">Courses</a>
        <a routerLink="/cv" routerLinkActive="active">CV</a>
      </nav>
    </mat-toolbar>
    <main [@routeAnimations]="prepareRoute(outlet)">
      <router-outlet #outlet="outlet"></router-outlet>
    </main>
  </mat-sidenav-content>
</mat-sidenav-container>
